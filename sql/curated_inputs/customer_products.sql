CREATE OR REPLACE TABLE customer_products (
    customer_id STRING,                  -- FK to customer_gold

    module STRING,                       -- GL, AP, AR, CR
    module_fee NUMBER(18,2),

    ship_date DATE,
    invoice_date DATE,

    contract_start_date DATE,
    contract_end_date DATE,

    is_active BOOLEAN,

    created_ts TIMESTAMP,
    updated_ts TIMESTAMP
);

 INSERT INTO customer_products VALUES
('CUST001','GL',120000,'2024-01-15','2024-01-20','2024-01-01','2026-12-31',TRUE,
 CURRENT_TIMESTAMP(),CURRENT_TIMESTAMP()),
('CUST001','AP',80000,'2024-02-01','2024-02-05','2024-01-01','2026-12-31',TRUE,
 CURRENT_TIMESTAMP(),CURRENT_TIMESTAMP()),
('CUST001','AR',60000,'2024-03-10','2024-03-15','2024-01-01','2026-12-31',TRUE,
 CURRENT_TIMESTAMP(),CURRENT_TIMESTAMP()),

('CUST002','GL',45000,'2024-01-10','2024-01-12','2024-01-01','2025-12-31',TRUE,
 CURRENT_TIMESTAMP(),CURRENT_TIMESTAMP()),
('CUST002','CR',30000,'2024-02-20','2024-02-25','2024-01-01','2025-12-31',TRUE,
 CURRENT_TIMESTAMP(),CURRENT_TIMESTAMP()),

('CUST003','GL',150000,'2024-01-05','2024-01-10','2024-01-01','2026-12-31',TRUE,
 CURRENT_TIMESTAMP(),CURRENT_TIMESTAMP()),
('CUST003','AP',90000,'2024-01-18','2024-01-22','2024-01-01','2026-12-31',TRUE,
 CURRENT_TIMESTAMP(),CURRENT_TIMESTAMP()),

('CUST004','GL',40000,'2024-02-10','2024-02-15','2024-02-01','2025-01-31',TRUE,
 CURRENT_TIMESTAMP(),CURRENT_TIMESTAMP());
